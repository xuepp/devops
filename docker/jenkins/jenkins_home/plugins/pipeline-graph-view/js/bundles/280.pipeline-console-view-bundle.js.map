{"version":3,"file":"280.pipeline-console-view-bundle.js","mappings":"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","sources":["webpack://pipeline-graph-view-plugin/./src/main/frontend/pipeline-console-view/pipeline-console/main/Ansi.tsx","webpack://pipeline-graph-view-plugin/./src/main/frontend/pipeline-console-view/pipeline-console/main/ConsoleLine.tsx","webpack://pipeline-graph-view-plugin/./src/main/frontend/pipeline-console-view/pipeline-console/main/ConsoleLogStream.tsx","webpack://pipeline-graph-view-plugin/./src/main/frontend/pipeline-console-view/pipeline-console/main/CloseIcon.tsx","webpack://pipeline-graph-view-plugin/./src/main/frontend/pipeline-console-view/pipeline-console/main/ConsoleLogModal.tsx","webpack://pipeline-graph-view-plugin/./src/main/frontend/pipeline-console-view/pipeline-console/main/ResizeIcon.tsx","webpack://pipeline-graph-view-plugin/./src/main/frontend/pipeline-console-view/pipeline-console/main/ConsoleLogCard.tsx","webpack://pipeline-graph-view-plugin/./src/main/frontend/pipeline-console-view/pipeline-console/main/StageNodeLink.tsx","webpack://pipeline-graph-view-plugin/./src/main/frontend/pipeline-console-view/pipeline-console/main/StageView.tsx","webpack://pipeline-graph-view-plugin/./src/main/frontend/step-status/StepStatus.tsx"],"sourcesContent":["import React from \"react\";\n\nexport interface Result {\n  isSelectGraphicRendition?: boolean;\n  escapeCode?: string; // input\n  setFG?: number | false; // 0-7 if a foreground color is specified\n  setBG?: number | false; // 0-7 if a background color is specified\n  resetFG?: boolean; // true if contains a reset back to default foreground\n  resetBG?: boolean; // true if contains a reset back to default background\n}\n\n/**\n * Parse an isolated escape code, looking for \"SelectGraphicsRendition\" codes specifically.\n *\n * Result:\n * ```\n * // Supported code\n * {\n *     isSelectGraphicRendition: true,\n *     escapeCode: string, // input\n *     setFG: integer | false, // 0-7 if a foreground color is specified\n *     setBG: integer | false, // 0-7 if a background color is specified\n *     resetFG: bool, // true if contains a reset back to default foreground\n *     resetBG: bool // true if contains a reset back to default background\n * }\n *\n * // Unsupported or malformed code:\n * {\n *     isSelectGraphicRendition: false,\n *     escapeCode: string // input\n * }\n * ```\n */\nexport function parseEscapeCode(escapeCode: string): Result {\n  const graphicsPattern = /^\\u001b\\[([;0-9]*)m$/; // We only care about SGR codes\n\n  const result: Result = {\n    isSelectGraphicRendition: false, // True when is a color / font command\n    escapeCode,\n  };\n\n  const match = graphicsPattern.exec(escapeCode);\n\n  if (match) {\n    result.isSelectGraphicRendition = true;\n    result.setFG = false;\n    result.setBG = false;\n    result.resetFG = false;\n    result.resetBG = false;\n\n    // Convert param string to array<int> with length > 1\n    const params = (match[1] || \"\")\n      .split(\";\")\n      .map((str) => parseInt(str || \"0\"));\n\n    // Now go through the ints, decode them into bg/fg info\n    for (const num of params) {\n      if (num >= 30 && num <= 37) {\n        result.setFG = num - 30; // Normal FG set\n      } else if (num >= 40 && num <= 47) {\n        result.setBG = num - 40; // Normal BG set\n      } else {\n        if (num === 38 || num === 0) {\n          result.resetFG = true;\n          result.setFG = false;\n        }\n\n        if (num === 48 || num === 0) {\n          result.resetBG = true;\n          result.setBG = false;\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\n/**\n * Break up a string into an array of plain strings and escape codes. Returns [input] if no codes present.\n */\nexport function tokenizeANSIString(input?: string): string[] | Result[] {\n  if (typeof input !== \"string\") {\n    return [];\n  }\n\n  const len = input.length;\n\n  if (len === 0) {\n    return [];\n  }\n\n  /*\n    loopCounter         - Where should the next loop start looping for escape codes.\n    escapeCodeIndex     - The index in the string of the next ANSI escape code or -1.\n    parsedPointer       - The parse pointer how far in the string have we parsed.\n                          This will === loopCounter unless there are commented ANSI escape characters.\n    commentStartIndex   - The start index of the next comment block, or -1.\n    commentEndIndex     - The end index of the next comment block, or -1.\n  */\n  let loopCounter = 0,\n    escapeCodeIndex = 0,\n    parsedPointer = 0,\n    // comment start\n    commentStartIndex = 0,\n    // comment end\n    commentEndIndex = 0;\n  const result: string[] | Result[] = [];\n\n  while (loopCounter < len) {\n    //--------------------------------------------------------------------------\n    //  Find next escape code\n    escapeCodeIndex = input.indexOf(\"\\x1b\", loopCounter);\n\n    if (escapeCodeIndex === -1) {\n      // No more escape codes\n      break;\n    }\n\n    // Check if escape code is commented\n    commentStartIndex = input.indexOf(\"<!--\", loopCounter);\n    commentEndIndex = input.indexOf(\"-->\", commentStartIndex);\n    if (commentEndIndex !== -1) {\n      commentEndIndex += 3;\n    }\n    if (\n      escapeCodeIndex > commentStartIndex &&\n      escapeCodeIndex < commentEndIndex\n    ) {\n      // Skip past the comment\n      loopCounter = commentEndIndex;\n      continue;\n    }\n\n    //--------------------------------------------------------------------------\n    //  Capture any text between the start pointer and the escape code\n\n    if (escapeCodeIndex > loopCounter) {\n      result.push(input.substring(loopCounter, escapeCodeIndex));\n      loopCounter = escapeCodeIndex; // Advance our start pointer to the beginning of the escape code\n    }\n\n    //--------------------------------------------------------------------------\n    //  Find the end of the escape code (a char from 64 - 126 indicating command)\n\n    escapeCodeIndex += 2; // Skip past ESC and '['\n\n    let code = input.charCodeAt(escapeCodeIndex);\n    while (escapeCodeIndex < len && (code < 64 || code > 126)) {\n      escapeCodeIndex++;\n      code = input.charCodeAt(escapeCodeIndex);\n    }\n\n    //--------------------------------------------------------------------------\n    //  Create token for the escape code\n\n    // TODO fix type checking\n    const parsedEscapeCode: any = parseEscapeCode(\n      input.substring(loopCounter, escapeCodeIndex + 1),\n    );\n    result.push(parsedEscapeCode);\n\n    //--------------------------------------------------------------------------\n    //  Keep looking in the rest of the string\n\n    loopCounter = escapeCodeIndex + 1;\n    // Move parsedPointer as we have processes the text to this point.\n    parsedPointer = loopCounter;\n  }\n\n  if (parsedPointer < len) {\n    result.push(input.substr(parsedPointer));\n  }\n\n  return result;\n}\n\n/**\n * Takes an array of string snippets and parsed escape codes produced bv tokenizeANSIString, and creates\n * an array of strings and spans with classNames for attributes.\n */\nexport function makeReactChildren(\n  tokenizedInput: string[] | Result[],\n  key: string,\n) {\n  const result = [];\n  let currentState: Result = {\n    setFG: false,\n    setBG: false,\n  };\n\n  for (let i = 0; i < tokenizedInput.length; i++) {\n    let codeOrString = tokenizedInput[i];\n    if (typeof codeOrString === \"string\") {\n      // Need to output a <span> or plain text if there's no interesting current state\n      if (!currentState.setFG && !currentState.setBG) {\n        result.push(\n          <div\n            dangerouslySetInnerHTML={{ __html: codeOrString }}\n            key={`${key}-${i}`}\n          />,\n        );\n      } else {\n        const classNames = [];\n\n        if (typeof currentState.setFG === \"number\") {\n          classNames.push(`ansi-fg-${currentState.setFG}`);\n        }\n        if (typeof currentState.setBG === \"number\") {\n          classNames.push(`ansi-bg-${currentState.setBG}`);\n        }\n\n        result.push(\n          <span className={classNames.join(\" \")}>{codeOrString}</span>,\n        );\n      }\n    } else if (codeOrString.isSelectGraphicRendition) {\n      // Update the current FG / BG colors for the next text span\n      const nextState = { ...currentState };\n\n      if (codeOrString.resetFG) {\n        nextState.setFG = false;\n      }\n      if (codeOrString.resetBG) {\n        nextState.setBG = false;\n      }\n\n      if (typeof codeOrString.setFG === \"number\") {\n        nextState.setFG = codeOrString.setFG;\n      }\n      if (typeof codeOrString.setBG === \"number\") {\n        nextState.setBG = codeOrString.setBG;\n      }\n\n      currentState = nextState;\n    }\n  }\n\n  return result;\n}\n","import React from \"react\";\nimport { useEffect, useRef } from \"react\";\nimport { makeReactChildren, tokenizeANSIString } from \"./Ansi\";\n\nexport interface ConsoleLineProps {\n  lineNumber: string;\n  content: string;\n  stepId: string;\n  startByte: number;\n  heightCallback: (height: number) => void;\n}\n\ndeclare global {\n  interface Window {\n    Behaviour: any;\n  }\n}\n\n// Console output line\nexport const ConsoleLine = (props: ConsoleLineProps) => {\n  const ref = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    const height = ref.current ? ref.current.getBoundingClientRect().height : 0;\n    props.heightCallback(height);\n\n    // apply any behaviour selectors to the new content, e.g. for input step\n    window.Behaviour.applySubtree(\n      document.getElementById(`${props.stepId}-${props.lineNumber}`),\n    );\n  }, []);\n\n  return (\n    <pre\n      className=\"console-output-line\"\n      key={`console-line-pre${props.lineNumber}`}\n    >\n      <div\n        className=\"console-output-line-anchor\"\n        id={`log-${props.lineNumber}`}\n        key={`${props.lineNumber}-anchor`}\n      />\n      <div\n        className=\"console-output-line\"\n        key={`${props.lineNumber}-body`}\n        ref={ref}\n      >\n        <a\n          className=\"console-line-number\"\n          href={`?start-byte=${props.startByte}&selected-node=${props.stepId}#log-${props.lineNumber}`} //`}\n        >\n          {props.lineNumber}\n        </a>\n        <div\n          id={`${props.stepId}-${props.lineNumber}`}\n          className=\"console-text\"\n        >\n          {makeReactChildren(\n            tokenizeANSIString(props.content),\n            `${props.stepId}-${props.lineNumber}`,\n          )}\n        </div>\n      </div>\n    </pre>\n  );\n};\n","import React from \"react\";\nimport { Virtuoso, VirtuosoHandle, LogLevel } from \"react-virtuoso\";\nimport { useCallback, useState, useEffect, useRef } from \"react\";\nimport { Result, StepInfo, StepLogBufferInfo } from \"./PipelineConsoleModel\";\n\nimport Button from \"@mui/material/Button\";\n\nexport interface ConsoleLogStreamProps {\n  logBuffer: StepLogBufferInfo;\n  handleMoreConsoleClick: (nodeId: string, startByte: number) => void;\n  step: StepInfo;\n  maxHeightScale: number;\n}\n\nimport { ConsoleLine } from \"./ConsoleLine\";\n\nexport default function ConsoleLogStream(props: ConsoleLogStreamProps) {\n  const appendInterval = useRef<NodeJS.Timeout | null>(null);\n  const virtuosoRef = useRef<VirtuosoHandle>(null);\n  const [stickToBottom, setStickToBottom] = useState(false);\n  const [moveToBottom, setMoveToBottom] = useState(true);\n  const showButtonInterval = useRef<NodeJS.Timeout | null>(null);\n  const [showButton, setShowButton] = useState(false);\n  const [maxConsoleLineHeight, setMaxConsoleLineHeight] = useState(1);\n\n  useEffect(() => {\n    return () => {\n      if (appendInterval.current) {\n        clearInterval(appendInterval.current);\n      }\n      if (showButtonInterval.current) {\n        clearTimeout(showButtonInterval.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (showButtonInterval.current) {\n      clearTimeout(showButtonInterval.current);\n    }\n    if (!stickToBottom) {\n      showButtonInterval.current = setTimeout(() => setShowButton(true), 500);\n    } else {\n      setShowButton(false);\n    }\n  }, [stickToBottom, setShowButton]);\n\n  useEffect(() => {\n    if (moveToBottom) {\n      scrollListBottom();\n      setMoveToBottom(false);\n    }\n  }, [moveToBottom]);\n\n  const consoleLineHeightCallback = useCallback((height: number) => {\n    if (height > maxConsoleLineHeight) {\n      setMaxConsoleLineHeight(height);\n    } else if (maxConsoleLineHeight == 1) {\n      setMaxConsoleLineHeight(height);\n    }\n  }, []);\n\n  const scrollListBottom = () => {\n    if (virtuosoRef.current) {\n      if (props.logBuffer.lines) {\n        virtuosoRef.current?.scrollBy({\n          // This needs to be large enough to cover even really long lines.\n          // It doesn't need to worry about being too big.\n          top: props.logBuffer.lines.length * 1000,\n        });\n      } else {\n        console.debug(\"'logBuffer.lines' not set. Log empty, not scrolling.\");\n      }\n    } else {\n      console.warn(\"virtuosoRef is null, cannot scroll to index!\");\n    }\n  };\n\n  const shouldRequestMoreLogs = () => {\n    return props.step.state === Result.running || props.logBuffer.startByte < 0;\n  };\n\n  const height = () => {\n    const spinnerLines = shouldRequestMoreLogs() ? 2 : 0;\n    return (props.logBuffer.lines.length + spinnerLines) * maxConsoleLineHeight;\n  };\n\n  return (\n    <>\n      <Virtuoso\n        style={{\n          height: `${height()}px`,\n          maxHeight: window.innerHeight * props.maxHeightScale,\n        }}\n        ref={virtuosoRef}\n        data={props.logBuffer.lines}\n        components={{\n          Footer: () => {\n            return shouldRequestMoreLogs() ? (\n              <div className=\"lds-ellipsis\">\n                <div></div>\n                <div></div>\n                <div></div>\n              </div>\n            ) : (\n              <></>\n            );\n          },\n        }}\n        itemContent={(index: number, content: string) => {\n          return (\n            <ConsoleLine\n              lineNumber={String(index)}\n              content={content}\n              stepId={props.step.id}\n              startByte={props.logBuffer.startByte}\n              heightCallback={consoleLineHeightCallback}\n            />\n          );\n        }}\n        atBottomStateChange={(bottom) => {\n          if (appendInterval.current) {\n            clearInterval(appendInterval.current);\n          }\n          console.debug(`'atBottomStateChange' called with '${bottom}'`);\n          if (bottom && shouldRequestMoreLogs()) {\n            console.debug(`Fetching more log text`);\n            appendInterval.current = setInterval(() => {\n              props.handleMoreConsoleClick(\n                props.step.id,\n                props.logBuffer.startByte,\n              );\n            }, 1000);\n            console.debug(`Received more text '${bottom} - ${stickToBottom}'`);\n          }\n          console.debug(`Setting stickToBottom to '${bottom}'`);\n          setStickToBottom(bottom);\n        }}\n        followOutput={(bottom) => {\n          // This is a workaround as 'followOutput' isn't working for me - works in sandbox, but not nested inside Jenkins UI.\n          setMoveToBottom(bottom);\n          return false;\n        }}\n        // Uncomment to help with debugging virtuoso issues.\n        //logLevel={LogLevel.DEBUG}\n      />\n      {showButton && (\n        <Button\n          variant=\"text\"\n          sx={{ padding: \"0px\", textTransform: \"none\" }}\n          onClick={() => scrollListBottom()}\n          style={{ float: \"right\", transform: \"translate(-2rem, -2rem)\" }}\n        >\n          Scroll to Bottom\n        </Button>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\n\nexport type CloseIconProps = {\n  onClick: () => void;\n};\n\nexport default function CloseIcon(props: CloseIconProps) {\n  return (\n    <>\n      <button\n        onClick={props.onClick}\n        className=\"jenkins-dialog__close-button jenkins-button\"\n      >\n        <span className=\"jenkins-visually-hidden\">Close</span>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"ionicon\"\n          viewBox=\"0 0 512 512\"\n        >\n          <path\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"32\"\n            d=\"M368 368L144 144M368 144L144 368\"\n          ></path>\n        </svg>\n      </button>\n    </>\n  );\n}\n","import React from \"react\";\nimport { StepInfo, StepLogBufferInfo } from \"./PipelineConsoleModel\";\nimport { getStepStatus } from \"../../../step-status/StepStatus\";\nimport CloseIcon from \"./CloseIcon\";\n\nexport interface ConsoleLogModelProps {\n  logBuffer: StepLogBufferInfo;\n  handleMoreConsoleClick: (nodeId: string, startByte: number) => void;\n  step: StepInfo;\n  truncatedLogWarning: React.JSX.Element | undefined;\n  maxHeightScale: number;\n  setClose: () => void;\n  open: boolean;\n}\n\nimport { Box, Modal, Stack } from \"@mui/material\";\nimport Typography from \"@mui/material/Typography\";\nimport ConsoleLogStream from \"./ConsoleLogStream\";\n\nconst style = {\n  top: \"50%\",\n  left: \"50%\",\n  width: \"98%\",\n  height: \"95%\",\n  margin: \"1%\",\n  bgcolor: \"var(--pre-background)\",\n  color: \"var(--pre-color)\",\n  backdropFilter: \"var(--dialog-backdrop-filter)\",\n  border: \"none\",\n  backgroundColor: \"var(--background)\",\n  borderRadius: \"0.6rem\",\n  boxShadow: \"var(--dialog-box-shadow)\",\n  overflowY: \"auto\",\n  p: 4,\n};\n\nexport default function ConsoleLogModal(props: ConsoleLogModelProps) {\n  const handleClose = () => props.setClose();\n  const statusIcon = getStepStatus(\n    props.step.state,\n    props.step.completePercent,\n    10,\n  );\n  const stepDisplayName = props.step.name;\n  const stepTitle = props.step.title ? \" - \" + props.step.title : \"\";\n\n  return (\n    <>\n      <Modal\n        open={props.open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          <Typography\n            id=\"modal-modal-title\"\n            variant=\"h6\"\n            component=\"h2\"\n            className=\"log-card--header\"\n            noWrap={true}\n            key={`step-name-text-${props.step.id}`}\n          >\n            <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\n              {statusIcon}\n              <Box component=\"span\">\n                <Box component=\"span\" fontWeight=\"bold\">\n                  {stepDisplayName}\n                </Box>\n                {stepTitle}\n              </Box>\n            </Stack>\n          </Typography>\n          <CloseIcon onClick={handleClose} />\n          <div>{props.truncatedLogWarning}</div>\n          <ConsoleLogStream {...props} />\n        </Box>\n      </Modal>\n    </>\n  );\n}\n","import React from \"react\";\n\nexport default function ResizeIcon() {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M10 4H15C15.5523 4 16 4.44772 16 5V10M10 16H5C4.44772 16 4 15.5523 4 15V10\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n      />\n    </svg>\n  );\n}\n","import React from \"react\";\nimport { lazy, Suspense } from \"react\";\nimport { styled } from \"@mui/material/styles\";\nimport {\n  Button,\n  Card,\n  CardContent,\n  CircularProgress,\n  Collapse,\n  Grid,\n  Typography,\n} from \"@mui/material\";\nimport CardActionArea from \"@mui/material/CardActions\";\nimport IconButton, { IconButtonProps } from \"@mui/material/IconButton\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport LinkIcon from \"@mui/icons-material/Link\";\nimport { Tooltip } from \"react-tippy\";\n\nimport {\n  LOG_FETCH_SIZE,\n  StepInfo,\n  StepLogBufferInfo,\n} from \"./PipelineConsoleModel\";\nimport ConsoleLogModal from \"./ConsoleLogModal\";\nimport ResizeIcon from \"./ResizeIcon\";\n\nimport { getStepStatus } from \"../../../step-status/StepStatus\";\n\nconst ConsoleLogStream = lazy(() => import(\"./ConsoleLogStream\"));\n\ninterface ExpandMoreProps extends IconButtonProps {\n  expand: boolean;\n}\n\ndeclare module \"react-tippy\" {\n  export interface TooltipProps {\n    children?: React.ReactNode;\n  }\n}\n\nconst ExpandMore = styled((props: ExpandMoreProps) => {\n  const { expand, ...other } = props;\n  return <IconButton {...other} />;\n})(({ theme, expand }) => ({\n  transform: !expand ? \"rotate(0deg)\" : \"rotate(180deg)\",\n  marginLeft: \"auto\",\n  transition: theme.transitions.create(\"transform\", {\n    duration: theme.transitions.duration.shortest,\n  }),\n}));\n\nexport type ConsoleLogCardProps = {\n  step: StepInfo;\n  stepBuffer: StepLogBufferInfo;\n  isExpanded: boolean;\n  handleStepToggle: (event: React.SyntheticEvent<{}>, nodeId: string) => void;\n  handleMoreConsoleClick: (nodeId: string, startByte: number) => void;\n  // Id of the element whose scroll bar we wish to use.\n  scrollParentId: string;\n};\n\nexport type ConsoleLogCardState = {\n  open: boolean;\n};\n\nexport class ConsoleLogCard extends React.Component<\n  ConsoleLogCardProps,\n  ConsoleLogCardState\n> {\n  constructor(props: ConsoleLogCardProps) {\n    super(props);\n    this.handleStepToggle = this.handleStepToggle.bind(this);\n\n    this.state = {\n      open: false,\n    };\n  }\n\n  handleStepToggle(event: React.MouseEvent<HTMLElement>) {\n    this.props.handleStepToggle(event, this.props.step.id);\n  }\n\n  componentDidMount(): void {\n    if (this.props.isExpanded) {\n      // If we start expanded then request logs.\n      this.props.handleMoreConsoleClick(\n        this.props.step.id,\n        this.props.stepBuffer.startByte,\n      );\n    }\n  }\n\n  getTruncatedLogWarning() {\n    if (this.props.stepBuffer.lines && this.props.stepBuffer.startByte > 0) {\n      return (\n        <Grid container>\n          <Grid item xs={6} sm className=\"show-more-console\">\n            <Typography align=\"right\" className=\"step-header\">\n              {`Missing ${this.prettySizeString(\n                this.props.stepBuffer.startByte,\n              )} of logs.`}\n            </Typography>\n          </Grid>\n          <Grid item xs={6} sm className=\"show-more-console\">\n            <Button\n              variant=\"text\"\n              sx={{\n                padding: \"0px\",\n                textTransform: \"none\",\n                marginLeft: \"0.25rem\",\n              }}\n              onClick={() => {\n                let startByte =\n                  this.props.stepBuffer.startByte - LOG_FETCH_SIZE;\n                console.debug(\n                  `startByte '${this.props.stepBuffer.startByte}' -> '${startByte}'`,\n                );\n                if (startByte < 0) {\n                  startByte = 0;\n                }\n                this.props.handleMoreConsoleClick(\n                  this.props.step.id,\n                  startByte,\n                );\n              }}\n            >\n              Show more logs\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else {\n      <div></div>;\n    }\n  }\n\n  prettySizeString(size: number) {\n    let kib = 1024;\n    let mib = 1024 * 1024;\n    let gib = 1024 * 1024 * 1024;\n    if (size < kib) {\n      return `${size}B`;\n    } else if (size < mib) {\n      return `${(size / kib).toFixed(2)}KiB`;\n    } else if (size < gib) {\n      return `${(size / mib).toFixed(2)}MiB`;\n    }\n    return `${(size / gib).toFixed(2)}GiB`;\n  }\n\n  getStepHeaderTitle(stepTitle: string, stepId: string) {\n    if (stepTitle) {\n      return (\n        <Typography\n          className=\"log-card--text\"\n          component=\"div\"\n          key={`step-duration-text-${stepId}`}\n        >\n          {stepTitle}\n        </Typography>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const handleOpen = () => this.setState({ open: true });\n    const handleClose = () => this.setState({ open: false });\n\n    const statusIcon = getStepStatus(\n      this.props.step.state,\n      this.props.step.completePercent,\n      10,\n    );\n\n    return (\n      <Card\n        className=\"step-detail-group\"\n        key={`step-card-${this.props.step.id}`}\n        style={{ marginBottom: \"5px\" }}\n      >\n        <CardActionArea\n          onClick={this.handleStepToggle}\n          aria-label=\"Show console log.\"\n          className={`step-header step-header-${this.props.step.state.toLowerCase()} step-detail-group-${\n            this.props.isExpanded ? \"expanded\" : \"collapsed\"\n          }`}\n          key={`step-action-area-${this.props.step.id}`}\n        >\n          {statusIcon}\n          <Grid\n            container\n            wrap=\"nowrap\"\n            columns={{ xs: 20 }}\n            key={`step-root-container-${this.props.step.id}`}\n          >\n            <Grid\n              item\n              container\n              xs={16}\n              sx={{ display: \"block\", margin: \"auto\" }}\n              width=\"80%\"\n            >\n              <Typography\n                className=\"log-card--header\"\n                noWrap={true}\n                component=\"div\"\n                key={`step-name-text-${this.props.step.id}`}\n                sx={{ flexGrow: 3 }}\n              >\n                {this.props.step.name}\n              </Typography>\n              {this.getStepHeaderTitle(\n                this.props.step.title,\n                this.props.step.id,\n              )}\n            </Grid>\n            <Grid\n              item\n              xs={2}\n              sx={{ margin: \"auto\", padding: \"0px\" }}\n              alignItems=\"center\"\n              justifyContent=\"center\"\n            >\n              <Typography\n                className=\"log-card--text log-card--text-duration\"\n                align=\"right\"\n                component=\"div\"\n                key={`step-duration-text-${this.props.step.id}`}\n              >\n                {this.props.step.totalDurationMillis.substring(\n                  this.props.step.totalDurationMillis.indexOf(\" \") + 1,\n                  this.props.step.totalDurationMillis.length,\n                )}\n              </Typography>\n            </Grid>\n\n            <Grid item xs={2} alignItems=\"center\" sx={{ margin: \"auto\" }}>\n              <Tooltip title=\"Open console log in full-screen mode\">\n                <IconButton\n                  aria-label={\"Open console log in full-screen mode\"}\n                  onClick={handleOpen}\n                >\n                  <div className=\"svg-icon--expand\">\n                    <ResizeIcon />\n                  </div>\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"View step as plain text\">\n                <IconButton\n                  onClick={() =>\n                    window.open(`log?nodeId=${this.props.step.id}`)\n                  }\n                  aria-label=\"View step as plain text\"\n                >\n                  <LinkIcon className=\"svg-icon--expand\" />\n                </IconButton>\n              </Tooltip>\n            </Grid>\n            <Grid item xs={1} alignItems=\"center\" sx={{ margin: \"auto\" }}>\n              <Tooltip title=\"Open console log\">\n                <ExpandMore\n                  expand={this.props.isExpanded}\n                  aria-label={\"Open console log\"}\n                  aria-expanded\n                  key={`step-expand-button-${this.props.step.id}`}\n                  sx={{ display: \"block\", marginLeft: \"auto\" }}\n                >\n                  <ExpandMoreIcon\n                    key={`step-expand-icon-${this.props.step.id}`}\n                    className=\"svg-icon svg-icon--expand\"\n                  />\n                </ExpandMore>\n              </Tooltip>\n            </Grid>\n          </Grid>\n        </CardActionArea>\n        <ConsoleLogModal\n          logBuffer={this.props.stepBuffer}\n          handleMoreConsoleClick={this.props.handleMoreConsoleClick}\n          step={this.props.step}\n          truncatedLogWarning={this.getTruncatedLogWarning()}\n          maxHeightScale={0.85}\n          open={this.state.open}\n          setClose={handleClose}\n        />\n        <Collapse\n          in={this.props.isExpanded}\n          timeout={50}\n          unmountOnExit\n          key={`step-colapsable-console-${this.props.step.id}`}\n        >\n          <CardContent\n            className=\"step-content\"\n            key={`step-console-content-${this.props.step.id}`}\n          >\n            <div>{this.getTruncatedLogWarning()}</div>\n            <Suspense fallback={<CircularProgress />}>\n              <ConsoleLogStream\n                logBuffer={this.props.stepBuffer}\n                handleMoreConsoleClick={this.props.handleMoreConsoleClick}\n                step={this.props.step}\n                maxHeightScale={0.65}\n              />\n            </Suspense>\n          </CardContent>\n        </Collapse>\n      </Card>\n    );\n  }\n}\n","import React from \"react\";\n\nexport interface StageNodeLinkProps {\n  agent: string;\n}\n\nfunction getAgentUrl(name: string) {\n  // Wrap built-in in brackets\n  const id = name == \"built-in\" ? \"(built-in)\" : name;\n  const rootPath = document.head.dataset.rooturl;\n  return `${rootPath}/computer/${id}/`;\n}\n\nconst StageNodeLink = ({ agent }: StageNodeLinkProps) => {\n  const agentName = agent == \"built-in\" ? \"Jenkins\" : agent;\n  const href = getAgentUrl(agent);\n  return (\n    <>\n      Running on <a href={href}>{agentName}</a>\n    </>\n  );\n};\n\nexport default StageNodeLink;\n","import React from \"react\";\nimport Typography from \"@mui/material/Typography\";\n\nimport HourglassEmptyIcon from \"@mui/icons-material/HourglassEmpty\";\nimport ScheduleIcon from \"@mui/icons-material/Schedule\";\nimport TimerIcon from \"@mui/icons-material/Timer\";\nimport InfoIcon from \"@mui/icons-material/Info\";\nimport LinkIcon from \"@mui/icons-material/Link\";\nimport ComputerIcon from \"@mui/icons-material/Computer\";\n\nimport {\n  StepInfo,\n  StageInfo,\n  StepLogBufferInfo,\n  LOG_FETCH_SIZE,\n} from \"./PipelineConsoleModel\";\nimport { ConsoleLogCard } from \"./ConsoleLogCard\";\nimport StageNodeLink from \"./StageNodeLink\";\n\nexport interface StageSummaryProps {\n  stage: StageInfo;\n  failedSteps: StepInfo[];\n}\n\n// Tree Item for stages\nconst StageSummary = (props: StageSummaryProps) => (\n  <React.Fragment>\n    <div\n      className=\"stage-detail-group\"\n      key={`stage-detail-root-${props.stage.id}`}\n    >\n      <Typography\n        color=\"inherit\"\n        className=\"detail-element-header\"\n        key={`stage-detail-name-text-${props.stage.id}`}\n      >\n        Stage '{props.stage.name}'\n      </Typography>\n      <div\n        className=\"detail-element\"\n        key={`stage-detail-start-time-container-${props.stage.id}`}\n      >\n        {props.stage.startTimeMillis && (\n          <ScheduleIcon\n            className=\"detail-icon\"\n            key={`stage-detail-start-time-icon-${props.stage.id}`}\n          />\n        )}\n        {props.stage.startTimeMillis}\n      </div>\n      <div\n        className=\"detail-element\"\n        key={`stage-detail-pause-duration-container-${props.stage.id}`}\n      >\n        <HourglassEmptyIcon\n          className=\"detail-icon\"\n          key={`stage-detail-pause-duration-icon-${props.stage.id}`}\n        />\n        {props.stage.pauseDurationMillis}\n      </div>\n      <div\n        className=\"detail-element\"\n        key={`stage-detail-duration-container-${props.stage.id}`}\n      >\n        <TimerIcon\n          className=\"detail-icon\"\n          key={`stage-detail-duration-icon-${props.stage.id}`}\n        />\n        {props.stage.totalDurationMillis}\n      </div>\n      <div\n        className=\"detail-element\"\n        key={`stage-detail-status-container-${props.stage.id}`}\n      >\n        <InfoIcon\n          className=\"detail-icon\"\n          key={`stage-detail-status-icon-${props.stage.id}`}\n        />\n        <span\n          className=\"capitalize\"\n          key={`stage-detail-status-text-${props.stage.id}`}\n        >\n          {props.stage.state}\n        </span>\n      </div>\n      {props.stage.agent && (\n        <div\n          className=\"detail-element\"\n          key={`stage-detail-agent-container-${props.stage.id}`}\n        >\n          <ComputerIcon\n            className=\"detail-icon\"\n            key={`stage-detail-agent-icon-${props.stage.id}`}\n          />\n          <span key={`stage-detail-agent-text-${props.stage.id}`}>\n            <StageNodeLink agent={props.stage.agent} />\n          </span>\n        </div>\n      )}\n      {props.failedSteps.map((value: StepInfo) => {\n        console.debug(`Found failed step ${value}`);\n        return (\n          <FailedStepLink\n            step={value}\n            key={`stage-detail-failed-step-link-${props.stage.id}-${value.id}`}\n          />\n        );\n      })}\n      <div className=\"detail-element\">\n        <LinkIcon className=\"detail-icon\" />\n        <a className=\"detail-element\" href={`log?nodeId=${props.stage.id}`}>\n          View as plain text\n        </a>\n      </div>\n    </div>\n  </React.Fragment>\n);\n\nexport interface FailedStepLinkProps {\n  step: StepInfo;\n}\n\nconst FailedStepLink = (props: FailedStepLinkProps) => (\n  <div className=\"detail-element\">\n    <LinkIcon className=\"detail-icon\" />\n    <a className=\"detail-element\" href={`?selected-node=${props.step.id}`}>\n      Failed step: {props.step.name}\n    </a>\n  </div>\n);\n\nexport interface StageViewProps {\n  stage: StageInfo | null;\n  steps: Array<StepInfo>;\n  stepBuffers: Map<string, StepLogBufferInfo>;\n  selectedStage: string;\n  expandedSteps: string[];\n  handleStepToggle: (event: React.SyntheticEvent<{}>, nodeId: string) => void;\n  handleMoreConsoleClick: (nodeId: string, startByte: number) => void;\n  // Id of the element whose scroll bar we wish to use.\n  scrollParentId: string;\n}\n\nexport default class StageView extends React.Component {\n  props!: StageViewProps;\n\n  constructor(props: StageViewProps) {\n    super(props);\n  }\n  renderStageDetails() {\n    if (this.props.stage) {\n      let failedSteps = [] as StepInfo[];\n      for (let step of this.props.steps) {\n        if (step.stageId === this.props.selectedStage) {\n          // We seem to get a mix of upper and lower case states, so normalise on lowercase.\n          if (step.state.toLowerCase() === \"unstable\") {\n            failedSteps.push(step);\n          }\n        }\n      }\n      return (\n        <pre\n          className=\"console-output\"\n          id={`console-root-${this.props.stage ? this.props.stage.id : \"unk\"}`}\n        >\n          <StageSummary stage={this.props.stage} failedSteps={failedSteps} />\n        </pre>\n      );\n    }\n    return null;\n  }\n\n  getTreeItemsFromStepList = (stepsItems: StepInfo[]) => {\n    return stepsItems.map((stepItemData, index) => {\n      return (\n        <ConsoleLogCard\n          step={stepItemData}\n          stepBuffer={\n            this.props.stepBuffers.get(stepItemData.id) ??\n            ({\n              lines: [] as string[],\n              startByte: 0 - LOG_FETCH_SIZE,\n              endByte: -1,\n            } as StepLogBufferInfo)\n          }\n          handleStepToggle={this.props.handleStepToggle}\n          isExpanded={this.props.expandedSteps.includes(stepItemData.id)}\n          handleMoreConsoleClick={this.props.handleMoreConsoleClick}\n          key={`step-console-card-${stepItemData.id}`}\n          scrollParentId={this.props.scrollParentId}\n        />\n      );\n    });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div\n          key={`stage-summary-${\n            this.props.stage ? this.props.stage.id : \"unk\"\n          }`}\n        >\n          {this.renderStageDetails()}\n        </div>\n        <div\n          key={`stage-steps-container-${\n            this.props.stage ? this.props.stage.id : \"unk\"\n          }`}\n        >\n          {this.getTreeItemsFromStepList(this.props.steps)}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","import { FunctionComponent } from \"react\";\nimport * as React from \"react\";\nimport { Result } from \"../pipeline-graph-view/pipeline-graph/main\";\nimport { decodeResultValue } from \"../pipeline-graph-view/pipeline-graph/main/PipelineGraphModel\";\nimport { getSymbolForResult } from \"../pipeline-graph-view/pipeline-graph/main/support/StatusIcons\";\n\ninterface Props {\n  status: Result;\n  text: string;\n  percent: number;\n  radius?: number;\n}\n\nconst Component: FunctionComponent<Props> = (props: Props) => {\n  const statusIcon = getStepStatus(props.status, props.percent, props.radius);\n  return (\n    <>\n      {statusIcon}\n      <span style={{ marginLeft: \"0.3rem\", padding: \"auto\" }}>\n        {props.text}\n      </span>\n    </>\n  );\n};\n\nexport function getStepStatus(\n  status: Result,\n  complete?: number,\n  radius?: number,\n) {\n  const icon = getSymbolForResult(decodeResultValue(status));\n  return (\n    <div\n      className={`icon-sm`}\n      style={{\n        display: \"inline-block\",\n        paddingBottom: \"20px\",\n      }}\n    >\n      {icon}\n    </div>\n  );\n}\n\nexport default Component;\n"],"names":["parseEscapeCode","escapeCode","result","isSelectGraphicRendition","match","exec","setFG","setBG","resetFG","resetBG","_step","_iterator","_createForOfIteratorHelper","split","map","str","parseInt","s","n","done","num","value","err","e","f","ConsoleLine","props","ref","useRef","useEffect","height","current","getBoundingClientRect","heightCallback","window","Behaviour","applySubtree","document","getElementById","concat","stepId","lineNumber","React","className","key","id","href","startByte","tokenizedInput","currentState","i","length","codeOrString","classNames","push","join","dangerouslySetInnerHTML","__html","nextState","_objectSpread","makeReactChildren","input","len","loopCounter","escapeCodeIndex","parsedPointer","commentStartIndex","commentEndIndex","indexOf","substring","code","charCodeAt","parsedEscapeCode","substr","tokenizeANSIString","content","ConsoleLogStream","appendInterval","virtuosoRef","_useState2","_slicedToArray","useState","stickToBottom","setStickToBottom","_useState4","moveToBottom","setMoveToBottom","showButtonInterval","_useState6","showButton","setShowButton","_useState8","maxConsoleLineHeight","setMaxConsoleLineHeight","clearInterval","clearTimeout","setTimeout","scrollListBottom","spinnerLines","consoleLineHeightCallback","useCallback","_virtuosoRef$current","logBuffer","lines","scrollBy","top","console","debug","warn","shouldRequestMoreLogs","step","state","Result","running","Virtuoso","style","maxHeight","innerHeight","maxHeightScale","data","components","Footer","itemContent","index","String","atBottomStateChange","bottom","setInterval","handleMoreConsoleClick","followOutput","Button","variant","sx","padding","textTransform","onClick","float","transform","CloseIcon","xmlns","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","left","width","margin","bgcolor","color","backdropFilter","border","backgroundColor","borderRadius","boxShadow","overflowY","p","ConsoleLogModal","handleClose","setClose","statusIcon","getStepStatus","completePercent","stepDisplayName","name","stepTitle","title","Modal","open","onClose","Box","Typography","component","noWrap","Stack","direction","alignItems","spacing","fontWeight","truncatedLogWarning","ResizeIcon","lazy","ExpandMore","styled","expand","other","_objectWithoutProperties","_excluded","IconButton","_ref","theme","marginLeft","transition","transitions","create","duration","shortest","ConsoleLogCard","_React$Component","_this","_classCallCheck","_callSuper","handleStepToggle","bind","_inherits","event","this","isExpanded","stepBuffer","_this2","Grid","container","item","xs","sm","align","prettySizeString","LOG_FETCH_SIZE","size","mib","gib","toFixed","_this3","Card","marginBottom","CardActionArea","toLowerCase","wrap","columns","display","flexGrow","getStepHeaderTitle","justifyContent","totalDurationMillis","Tooltip","setState","LinkIcon","ExpandMoreIcon","getTruncatedLogWarning","Collapse","in","timeout","unmountOnExit","CardContent","Suspense","fallback","CircularProgress","rootPath","agent","agentName","head","dataset","rooturl","StageSummary","stage","startTimeMillis","ScheduleIcon","HourglassEmptyIcon","pauseDurationMillis","TimerIcon","InfoIcon","ComputerIcon","StageNodeLink","failedSteps","FailedStepLink","StageView","stepsItems","stepItemData","_this$props$stepBuffe","stepBuffers","get","endByte","expandedSteps","includes","scrollParentId","steps","stageId","selectedStage","renderStageDetails","getTreeItemsFromStepList","status","complete","radius","icon","getSymbolForResult","decodeResultValue","paddingBottom","percent","text"],"sourceRoot":""}